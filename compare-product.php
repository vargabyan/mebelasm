<?php
include __DIR__ . '/head.php';
?>

<?php
include __DIR__ . '/breadcrumb.php';
breadcrumb([['url' => '', 'name' => 'Сранить товар']]);
?>


<?php

$response_data = [
    [
        'name' => 'Лазурит 5 ст     большой диван',
        'image' => './images/xn2sd9oi8sg0qb15dz4we23qm16lwz1v 1.png',
        'discount' => '50%',
        'old-price' => '41 980',
        'new-price' => '20 990',
        'params' => [
            'Материал' => 'Ткань',
            'Цвет' => 'Бежевый',
            'Каркас' => 'Брус хвойных пород, березовая',
            'Наполнение' => 'Пружинный блок',
            'Механизм' => 'Книжка',
            'Бельевой ящик' => true,
            'Декоративные подушки' => false,
            'Вес, кг' => '60',
            'Гарантия' => '18 месяцев',
        ],
    ],
    [
        'name' => 'Лазурит 5 ст     большой диван',
        'image' => './images/xn2sd9oi8sg0qb15dz4we23qm16lwz1v 1.png',
        'discount' => '50%',
        'old-price' => '41 980',
        'new-price' => '20 990',
        'params' => [
            'Материал' => 'Велюр',
            'Цвет' => 'Горчичный',
            'Каркас' => 'Брус хвойных пород, березовая',
            'Наполнение' => 'Пружинный блок',
            'Механизм' => 'Тик-так',
            'Бельевой ящик' => false,
            'Декоративные подушки' => true,
            'Вес, кг' => '80',
            'Гарантия' => '12 месяцев',
        ],
    ],
    [
        'name' => 'Лазурит 5 ст     большой диван',
        'image' => './images/xn2sd9oi8sg0qb15dz4we23qm16lwz1v 1.png',
        'discount' => '50%',
        'old-price' => '41 980',
        'new-price' => '20 990',
        'params' => [
            'Материал' => 'Ткань',
            'Цвет' => 'Бежевый',
            'Каркас' => 'Брус хвойных пород, березовая',
            'Наполнение' => 'Пружинный блок',
            'Механизм' => 'Книжка',
            'Бельевой ящик' => true,
            'Декоративные подушки' => false,
            'Вес, кг' => '60',
            'Гарантия' => '18 месяцев',
        ],
    ],
    [
        'name' => 'Лазурит 5 ст     большой диван',
        'image' => './images/xn2sd9oi8sg0qb15dz4we23qm16lwz1v 1.png',
        'discount' => '50%',
        'old-price' => '41 980',
        'new-price' => '20 990',
        'params' => [
            'Материал' => 'Велюр',
            'Цвет' => 'Горчичный',
            'Каркас' => 'Брус хвойных пород, березовая',
            'Наполнение' => 'Пружинный блок',
            'Механизм' => 'Тик-так',
            'Бельевой ящик' => false,
            'Декоративные подушки' => true,
            'Вес, кг' => '80',
            'Гарантия' => '12 месяцев',
        ],
    ],
    [
        'name' => 'Лазурит 5 ст     большой диван',
        'image' => './images/xn2sd9oi8sg0qb15dz4we23qm16lwz1v 1.png',
        'discount' => '50%',
        'old-price' => '41 980',
        'new-price' => '20 990',
        'params' => [
            'Материал' => 'Ткань',
            'Цвет' => 'Бежевый',
            'Каркас' => 'Брус хвойных пород, березовая',
            'Наполнение' => 'Пружинный блок',
            'Механизм' => 'Книжка',
            'Бельевой ящик' => true,
            'Декоративные подушки' => false,
            'Вес, кг' => '60',
            'Гарантия' => '18 месяцев',
        ],
    ],
    [
        'name' => 'Лазурит 5 ст     большой диван',
        'image' => './images/xn2sd9oi8sg0qb15dz4we23qm16lwz1v 1.png',
        'discount' => '50%',
        'old-price' => '41 980',
        'new-price' => '20 990',
        'params' => [
            'Материал' => 'Велюр',
            'Цвет' => 'Горчичный',
            'Каркас' => 'Брус хвойных пород, березовая',
            'Наполнение' => 'Пружинный блок',
            'Механизм' => 'Тик-так',
            'Бельевой ящик' => false,
            'Декоративные подушки' => true,
            'Вес, кг' => '80',
            'Гарантия' => '12 месяцев',
        ],
    ],
    [
        'name' => 'Лазурит 5 ст     большой диван',
        'image' => './images/xn2sd9oi8sg0qb15dz4we23qm16lwz1v 1.png',
        'discount' => '50%',
        'old-price' => '41 980',
        'new-price' => '20 990',
        'params' => [
            'Материал' => 'Ткань',
            'Цвет' => 'Бежевый',
            'Каркас' => 'Брус хвойных пород, березовая',
            'Наполнение' => 'Пружинный блок',
            'Механизм' => 'Книжка',
            'Бельевой ящик' => true,
            'Декоративные подушки' => false,
            'Вес, кг' => '60',
            'Гарантия' => '18 месяцев',
        ],
    ],
    [
        'name' => 'Лазурит 5 ст     большой диван',
        'image' => './images/xn2sd9oi8sg0qb15dz4we23qm16lwz1v 1.png',
        'discount' => '50%',
        'old-price' => '41 980',
        'new-price' => '20 990',
        'params' => [
            'Материал' => 'Велюр',
            'Цвет' => 'Горчичный',
            'Каркас' => 'Брус хвойных пород, березовая',
            'Наполнение' => 'Пружинный блок',
            'Механизм' => 'Тик-так',
            'Бельевой ящик' => false,
            'Декоративные подушки' => true,
            'Вес, кг' => '80',
            'Гарантия' => '12 месяцев',
        ],
    ],
]

?>

<section class="container-core compare-product-wrapper">
    <h1 class="site-header">Сранить товар</h1>

    <div class="compare-product_no-products active">
        <p class="compare-product_no-products_title">Вы не добавили товар для сравнения</p>
        <a class="compare-product_no-products_btn-go-to-catalog green-btn" href="/catalog.php">Перейти в каталог</a>
    </div>

    <div class="compare-product active" data-compare-product>

        <div class="compare-product_swiper-wrapper" data-compare-product_swiper-wrapper>
            <div class="compare-product_swiper">
                <div class="swiper-wrapper">
                    <?php foreach ($response_data as $item) { ?>
                        <div class="swiper-slide">
                            <form action="" class="compare-product_item" data-compare-product-item>
                                <div class="compare-product_item_img-wrapper">
                                    <a href="/card-product.php">
                                        <img class="compare-product_item_img" src="<?= $item['image'] ?>" alt="img">
                                        <span><?= $item['discount'] ?></span>
                                    </a>
                                </div>
                                <div class="compare-product_item_description">
                                    <div class="compare-product_item_name-wrapper">
                                        <p class="compare-product_item_name"><?= $item['name'] ?></p>
                                        <button class="compare-product_item_btn-option" type="button" data-compare-product-item-btn-option></button>
                                        <div class="compare-product_item_option-wrapper" data-compare-product-item-option-wrapper>
                                            <button class="compare-product_item_option_btn" data-compare-product-item-option-btn-add-favorits>В избранное</button>
                                            <button class="compare-product_item_option_btn">Удалить</button>
                                        </div>
                                    </div>
                                    <div class="compare-product_item_prices-wrapper">
                                        <p class="compare-product_item_prices">
                                            <span><?= $item['old-price'] ?> ₽</span>
                                            <?= $item['new-price'] ?> ₽
                                        </p>
                                        <button class="compare-product_item_btn-add-basket" data-compare-product-item-btn-add-basket></button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    <?php } ?>
                </div>
            </div>
            <div class="compare-product_swiper-button-prev"></div>
            <div class="compare-product_swiper-button-next"></div>
            <div class="swiper-pagination compare-product_swiper-pagination"></div>
        </div>


<?php

    $material = array_map( function($item) {return $item['params']['Материал'];}, $response_data);
    $color = array_map( function($item) {return $item['params']['Цвет'];}, $response_data);
    $frame = array_map( function($item) {return $item['params']['Каркас'];}, $response_data);
    $filling = array_map( function($item) {return $item['params']['Наполнение'];}, $response_data);
    $mechanism = array_map( function($item) {return $item['params']['Механизм'];}, $response_data);
    $linen_drawer = array_map( function($item) {return $item['params']['Бельевой ящик'];}, $response_data);
    $decorative_pillows = array_map( function($item) {return $item['params']['Декоративные подушки'];}, $response_data);
    $weight_kg = array_map( function($item) {return $item['params']['Вес, кг'];}, $response_data);
    $guarantee = array_map( function($item) {return $item['params']['Гарантия'];}, $response_data);

?>

        <div class="compare-product_params-wrapper">

            <div class="compare-product_params-item" data-compare-product-params-item>
                <button class="compare-product_params_btn rotate" data-compare-product-params-btn>Материал</button>
                <div class="compare-product_params_slider-wrapper active" data-compare-product-params-slider-wrapper>
                    <div class="compare-product_params_swiper">
                        <div class="swiper-wrapper">
                            <?php foreach ($material as $item) { ?>
                                <div class="swiper-slide">
                                    <p class="compare-product_params_slider_text">
                                        <?= $item ?>
                                    </p>
                                </div>
                            <?php } ?>
                        </div>
                    </div>
                </div>
            </div>

            <div class="compare-product_params-item" data-compare-product-params-item>
                <button class="compare-product_params_btn rotate" data-compare-product-params-btn>Цвет</button>
                <div class="compare-product_params_slider-wrapper active" data-compare-product-params-slider-wrapper>
                    <div class="compare-product_params_swiper">
                        <div class="swiper-wrapper">
                            <?php foreach ($color as $item) { ?>
                                <div class="swiper-slide">
                                    <p class="compare-product_params_slider_text">
                                        <?= $item ?>
                                    </p>
                                </div>
                            <?php } ?>
                        </div>
                    </div>
                </div>
            </div>

            <div class="compare-product_params-item" data-compare-product-params-item>
                <button class="compare-product_params_btn rotate" data-compare-product-params-btn>Каркас</button>
                <div class="compare-product_params_slider-wrapper active" data-compare-product-params-slider-wrapper>
                    <div class="compare-product_params_swiper">
                        <div class="swiper-wrapper">
                            <?php foreach ($frame as $item) { ?>
                                <div class="swiper-slide">
                                    <p class="compare-product_params_slider_text">
                                        <?= $item ?>
                                    </p>
                                </div>
                            <?php } ?>
                        </div>
                    </div>
                </div>
            </div>

            <div class="compare-product_params-item" data-compare-product-params-item>
                <button class="compare-product_params_btn rotate" data-compare-product-params-btn>Наполнение</button>
                <div class="compare-product_params_slider-wrapper active" data-compare-product-params-slider-wrapper>
                    <div class="compare-product_params_swiper">
                        <div class="swiper-wrapper">
                            <?php foreach ($filling as $item) { ?>
                                <div class="swiper-slide">
                                    <p class="compare-product_params_slider_text">
                                        <?= $item ?>
                                    </p>
                                </div>
                            <?php } ?>
                        </div>
                    </div>
                </div>
            </div>

            <div class="compare-product_params-item" data-compare-product-params-item>
                <button class="compare-product_params_btn rotate" data-compare-product-params-btn>Механизм</button>
                <div class="compare-product_params_slider-wrapper active" data-compare-product-params-slider-wrapper>
                    <div class="compare-product_params_swiper">
                        <div class="swiper-wrapper">
                            <?php foreach ($mechanism as $item) { ?>
                                <div class="swiper-slide">
                                    <p class="compare-product_params_slider_text">
                                        <?= $item ?>
                                    </p>
                                </div>
                            <?php } ?>
                        </div>
                    </div>
                </div>
            </div>

            <div class="compare-product_params-item" data-compare-product-params-item>
                <button class="compare-product_params_btn rotate" data-compare-product-params-btn>Бельевой ящик</button>
                <div class="compare-product_params_slider-wrapper active" data-compare-product-params-slider-wrapper>
                    <div class="compare-product_params_swiper">
                        <div class="swiper-wrapper">
                            <?php foreach ($linen_drawer as $item) { ?>
                                <div class="swiper-slide">
                                    <div class="compare-product_params_slider_color-icon <?= $item ? 'icon-green' : 'icon-red' ?> "></div>
                                </div>
                            <?php } ?>
                        </div>
                    </div>
                </div>
            </div>

            <div class="compare-product_params-item" data-compare-product-params-item>
                <button class="compare-product_params_btn rotate" data-compare-product-params-btn>Декоративные подушки</button>
                <div class="compare-product_params_slider-wrapper active" data-compare-product-params-slider-wrapper>
                    <div class="compare-product_params_swiper">
                        <div class="swiper-wrapper">
                            <?php foreach ($decorative_pillows as $item) { ?>
                                <div class="swiper-slide">
                                    <div class="compare-product_params_slider_color-icon <?= $item ? 'icon-green' : 'icon-red' ?> "></div>
                                </div>
                            <?php } ?>
                        </div>
                    </div>
                </div>
            </div>

            <div class="compare-product_params-item" data-compare-product-params-item>
                <button class="compare-product_params_btn rotate" data-compare-product-params-btn>Вес, кг</button>
                <div class="compare-product_params_slider-wrapper active" data-compare-product-params-slider-wrapper>
                    <div class="compare-product_params_swiper">
                        <div class="swiper-wrapper">
                            <?php foreach ($weight_kg as $item) { ?>
                                <div class="swiper-slide">
                                    <p class="compare-product_params_slider_text">
                                        <?= $item ?>
                                    </p>
                                </div>
                            <?php } ?>
                        </div>
                    </div>
                </div>
            </div>

            <div class="compare-product_params-item" data-compare-product-params-item>
                <button class="compare-product_params_btn rotate" data-compare-product-params-btn>Гарантия</button>
                <div class="compare-product_params_slider-wrapper active" data-compare-product-params-slider-wrapper>
                    <div class="compare-product_params_swiper">
                        <div class="swiper-wrapper">
                            <?php foreach ($guarantee as $item) { ?>
                                <div class="swiper-slide">
                                    <p class="compare-product_params_slider_text">
                                        <?= $item ?>
                                    </p>
                                </div>
                            <?php } ?>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>
</section>


<?php
include __DIR__ . '/footer.php';
?>
